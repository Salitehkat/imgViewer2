<!DOCTYPE html>
<html>
	<head>
		<title >imgViewer2 Plugin - example extension to show multiple images</title>
		
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
		<script type="text/javascript" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
		<script type="text/javascript" src="lib/imgViewer2.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
	</head>
	<body>
		<table cellspacing="0" cellpadding="0" border="0" style="width: 100%; min-width: 320px;">
			<tr>
			<td style="padding: 10px">
				<h1 align="center">imgViewer2 Plugin - multiple image display</h1>
				<div id="imgv" style="margin: auto; width:80%; height: 600px;">
				</div>
				<p style="margin:10px 5% 10px 5%;text-align: justify;"> Here I extend the imgViewer2 widget to overlay multiple versions of the same image with the a display control to select which one is visible. Because Leaflet comes with lots of display capabilities this can be added with only a few lines of code.
				</p>
			</td>
			</tr>
		</table>

<script type="text/javascript">
;(function($) {
/*
 *	Here we extend the imgViewer widget to display markers and notes
 *
 * This can be done with a few lines of code because of the capabilities of Leaflet
*/
	$.widget("wgm.imgViewer2_many", $.wgm.imgViewer2, {
/*
*   Add an image
*/
        addImage: function( name, imgurl ) {
            var img = L.imageOverlay(imgurl, this.bounds).addTo(this.map);
            this.map.layerControl.addBaseLayer(img, name);
            return img;
        }
	});
    $(window).on("load", function() {
        function load_images() {
                this.addImage('Raindrops','images/test_image_raindrops.jpg');
                this.addImage('Oil Paint','images/test_image_oil_paint.jpg');
        };
		var $img = $("#imgv").imgViewer2_many({
            imgURL: "images/test_image.jpg",
            constraint: "height",
            onReady: function() {
                this.map.layerControl = new L.control.layers({"Base": this.zimg},null, {collapsed: false}).addTo(this.map);
                load_images.call(this);
            }
        });
	});
})(jQuery);
</script>
		</body>
</html>
